** macros without arguments
.
some text \echo\ inside.
.
<p>some text  inside.</p>
.

** macros with a mandatory argument
.
some text \echo{with a macro}
.
<p>some text with a macro</p>
.

** macros with an optional argument
.
some text \echo[with a macro]
.
<p>some text with a macro</p>
.


** macros with optional and mandatory arguments, mixed with space and comments
.
some text \echo{with a macro} [%

 ]
 {more} inside.
.
<p>some text with a macro inside</p>
.


** brackets can be used in optional arguments when protected by a group
.
% echo simply outputs all its arguments
\echo[{t]}t]{ext} more
.
<p>t]text more</p>
.



** macros with optional and mandatory arguments, mixed with space and comments
This test should not include {more} in the macro arguments!
.
some text \echo{with a macro} [%

 ]% another comment

  {more} inside.
.
<p>some text with a macro inside</p>
.
