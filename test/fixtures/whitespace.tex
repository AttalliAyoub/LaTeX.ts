** whitespaces are compressed, comments are discarded
.
three
\par
% comment

paragraphs
    \par\par
    % comment
 separated by par.

   this     paragraph  has a    few 
 words,   including
 % comment
 a comment.


 % spaces at the end
 
.
<p>three</p><p>paragraphs</p><p>separated by par.</p>
<p>this paragraph has a few words, including a comment.</p>
.


** how to force two paragraphs
.
text  \par
~
\par
more text
.
<p>text</p><p>&nbsp;</p><p>more text</p>
.


** standard double-newline paragraph separation
.
first paragraph

 second paragraph
.
<p>ﬁrst paragraph</p>
<p>second paragraph</p>
.



** more than two newlines, including spaces, equal two newlines
.
first paragraph

   
  


second paragraph
.
<p>ﬁrst paragraph</p>
<p>second paragraph</p>
.


** comments are disregarded and won't add a paragraph
.
first paragraph


  % this should not cause another paragraph


second paragraph
.
<p>ﬁrst paragraph</p>
<p>second paragraph</p>
.

** comments are disregarded and won't prevent a paragraph
.
first paragraph % this should not prevent the paragraph

second paragraph% this should not prevent the paragraph

third paragraph
.
<p>ﬁrst paragraph</p>
<p>second paragraph</p>
<p>third paragraph</p>
.


** comments can remove a linebreak (i.e. space) and thus join lines
.
This is an % stupid
% Better: instructive <----
example: Supercal%
              ifragilist%
    icexpialidocious
.
<p>This is an example: Supercalifragilisticexpialidocious</p>
.



** one space inside as well as after a group is kept, the rest is compressed/skipped
.
text with empty group {  } and more text

text with {a group} and more text

text with { a group } and more text

text with { a group  } and more text

text with {  a group  }  and more text
.
<p>text with empty group ​ ​ and more text</p>
<p>text with a group​ and more text</p>
<p>text with ​ a group ​ and more text</p>
<p>text with ​ a group ​ and more text</p>
<p>text with ​ a group ​ and more text</p>
.

** macros without arguments ignore spaces afterwards
.
some \echo  text.
.
<p>some text.</p>
.

** force a space after a macro with {}
.
some \echo{} text.
.
<p>some ​ text.</p>
.
